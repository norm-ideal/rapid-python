# だいたい正しい Python 入門（２）

Copyright © 2022 IDEHARA, Norimimichi. Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.3 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A copy of the license is included in the section entitled “GNU Free Documentation License”.

---
subtitle: 初心者のためのリストと繰り返し処理

author: "出原至道 (idehara@tama.ac.jp)"

date: \today{}

---

\newpage

## リストを使いこなそう

### リストから１個ずつ取り出そう

```Python
a = [1,7,3,2]
for x in a:
    print(x)
```

リストの要素を１個ずつ取り出しては計算に使うのが `for - in` 構文です。

```Python
for 要素をうけとる変数 in リスト:
    受け取った要素についての処理
```

`for - in` 構文では、リストの中から１個ずつ要素を読み取り、「要素をうけとる変数」に代入してから、ブロック内を実行します。

- 繰り返しの回数は、リストの要素数回です。
- リストの最初から順番に要素を読み出します。

例：
```Python
a = list('hello')
for c in a:
    print(c)
```

---

### 回数を決めて実行しよう

```Python
for i in range(5):
    print(i, 'Hello')
```

`for - in` 構文で、`in` 節に `range(数値)` を指定すると、指定した数値の回数だけブロックを繰り返します。

- `range(数値)` は、「`[0, 1, ..., 数値-1]` というリストのようなもの」です。（実際にはリストでありません）
- ちょうど、長さ `n` のリストの要素が [0] から [n-1] までなので、リストの要素を順番に処理するときにも使えます。
    - 例によって「0 から始まる」ところに注意！
    - リストの要素を１個ずつ取り出すだけなら、素直な `for - in リスト` 構文のほうが楽です。
- （ちょっと高度）「取り出した要素」の「0 から 数値-1 までの値」には興味がなく、回数だけ指定して繰り返したい場合には、変数名に `_` を使うのが python の風習です。


例：
```Python
for i in range(5):
    print(i+1, '番目の奇数は', 2*i+1, 'です')
```

```Python
a ='hello''
for _ in range(10):
    print(a)
```

---

### リストと if を組み合わせよう

```Python
print('好きな自然数を入れてください')
s = input()
ns = list(s)
print(ns)
if '0' in ns:
    print('０が入っています')
```

リストで使える演算子に `in`, `not in` があります。

- `要素 in リスト` の形で「リストに要素が含まれるならば」を表します。
- `要素 not in リスト` の形で「リストに要素が含まれないならば」を表します。
- 要素の項目を `[]` で取り出して条件式に使うこともできます。
- （ちょっと高度） `in` も `not in` も、リストを順に見ながら要素を探すので、データの数に比例して遅くなります。リストが巨大になりそうなときは、使ってはいけません。そのような場合には、集合型や辞書型を使います。

例（色々な数を入力して、すべての場合を試してみよう）：
```Python
print('好きな自然数を入れてください')
s = input()
ns = list(s)
print(ns)
if '0' not in ns:
    print('０が入っていません')
if ns[-1] == '1':
    print('１で終わっています')
```

---

### リストの掛け算ができるようになろう

```Python
a = [1,2,3] * 10
print(a)
```

文字列と同じように、リストにも、`リスト * 整数` が定義されていて、「リストの要素を順に（整数）回繰り返したリスト」を表します。

- 繰り返す要素を１個だけ指定すると、すべての要素が同じで特定の長さのリストを手に入れることができます。

例：
```Python
a = [0] * 10
print(a)

for i in range(4):
    a[i*i] = 1
print(a)
```

---

### リストの要素を増やそう

```Python
a = []
for i in range(5):
    a.append(i)
print(a)
```

リストの最後に要素を追加するときには、リスト型の変数の後ろに `.append(要素)` という命令を書きます。

- `append` 命令は、リスト型の変数にしか使えない命令です。
- `a = []` は、「空のリストを書き込みます」という意味です。このあと、`a` をリスト型として扱うために必要な命令です。

例（奇数を順番に足していきます）：
```Python
a = [0]
for i in range(7):
    a.append(a[i] + (2*i+1))
print(a)
```

---

### （ちょっと高度）内包表記を使いこなそう

```Python
a = [ i+1 for i in range(5) ]
print(a)
b = [ i*i for i in a ]
print(b)
```

配列を定義するときに、要素をすべて列挙するのではなく、「他のリストなどから取り出した値に、こういう計算をした結果を並べたもの」という形で書くことができます。これを、内包表記と呼びます。

内包表記の書き方：
```
[ 要素の計算式 for 要素の計算の元になる変数 in リストなど ]
```

- サンプルの１つめは「０〜４までの数から一つずつ順に取り出してきて、その数+1 を要素に持つようなリストを a に代入する」です。
- サンプルの２つめは「a から１つずつ要素を順に取り出してきて、その数の２乗を要素に持つようなリストを b に代入する」です。
- 内包表記では、一つの要素を計算するとき、他の要素を参照してはいけません。
- 内包表記を使うと、あるリストから、別のリストを計算することが簡単になります。
- `for` で取り出す変数に興味がないときには、ここでも `_` を使うのが python 風です。

例：
```Python
a = [ i for i in range(10) ]
print(a)
b = [ 0 for _ in a ]
print(b)
```

---

### リストの要素を並べ替えよう

```Python
a = [3,1,4,1,5,9,2]
print(a)
a.sort()
print(a)
```

python では、`リスト.sort()` 命令で、リストの要素を順番に並べ替えることができます。

- `()` の中に何も入れない命令です。返事も返ってきません。
- 何も指定しなければ、小さい順です。
- 大きい順に並べたいときは、`reverse=True` という指令を加えます。

例：
```Python
a = [3,1,4,1,5,9,2]
print(a)
a.sort(reverse=True)
print(a)
```

---

ここまでで、[TOPSIC](https://products.sint.co.jp/topsic) のレベル２、[AtCoder](https://atcoder.jp/) のレベルＢあたりが解けるようになってくるはずです。

---

## 練習問題


### 「３番目」

#### 問題
長さ３以上の数字列 `A` が与えられます。この中で、３番目に小さい数を出力しなさい。

#### 入力

```
A
```

#### 動作例
```
31 41 59 26
41
```

```
0 0 0
0
```

---

### 「ぜんぶちがう？」

#### 問題
アルファベットの小文字だけが並んだ２文字以上の長さの文字列 `s` が入力されます。すべての文字が異なっていれば `Yes`、そうでなければ `No` を出力しなさい。

#### 入力

```
s
```

#### 動作例
```
explain
Yes
```

```
expert
No
```

---

### 「最適支払い」（まだ解けない・問題を思いついたので書いておく）

#### 問題
ある金額を 500,100,50,10,5,1 円硬貨の組み合わせで支払うとき、支払う硬貨の枚数とお釣りでうけとる硬貨の枚数との合計が最小となるような支払い方法を「最適支払い方法」と呼ぶことにします。（お店側も、お釣りを、最小枚数の硬貨で支払ってくれるものとします）

整数 `y` が入力されたとき、`y` 円の支払いに対する最適支払い方法の枚数を出力しなさい。

#### 動作例
```
16
3
```

10 円玉、5 円玉、1 円玉を１枚ずつ払い、お釣りが０枚とするのが最適支払い方法です。

```
130
4
```

最適支払い方法の組み合わせは、複数ある場合があります。枚数だけを回答してください。

```
666
6
```

```
185
4
```

---
